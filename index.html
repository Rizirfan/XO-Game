<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>XO</title>

  <!-- Google Font used in the original pen -->
  <link href="https://fonts.googleapis.com/css?family=Permanent+Marker" rel="stylesheet">

  <style>
    * { box-sizing: border-box; }
    html,body { height: 100%; margin: 0; font-family: 'Helvetica Neue', Arial, sans-serif; }

    #app {
      display: flex;
      overflow: hidden;
      position: relative;
      width: 100vw;
      height: 100vh;
      background-image: linear-gradient(rgb(0, 110, 255), rgb(0, 255, 242));
     
    }

    .butter-cheese-eggs {
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      display: flex;
      flex-wrap: wrap;
      width: 300px;
      height: 300px;
    }

    .butter-cheese-eggs > div {
      flex: 0 0 auto;
      width: 100px;
      height: 100px;
      cursor: pointer;
    }

    .butter-cheese-eggs .block {
      display: table-cell;
      width: 100px;
      height: 100px;
      font: bold 50px/0 'Comic Sans MS', sans-serif;
      vertical-align: middle;
      text-align: center;
      color: #ffffff;
      user-select: none;
    }

    /* grid lines */
    .butter-cheese-eggs > div:nth-child(1),
    .butter-cheese-eggs > div:nth-child(2),
    .butter-cheese-eggs > div:nth-child(3),
    .butter-cheese-eggs > div:nth-child(4),
    .butter-cheese-eggs > div:nth-child(5),
    .butter-cheese-eggs > div:nth-child(6) {
      border-bottom: 3px solid rgba(255,255,255,0.9);
    }
    .butter-cheese-eggs > div:nth-child(2),
    .butter-cheese-eggs > div:nth-child(5),
    .butter-cheese-eggs > div:nth-child(8) {
      border-left: 3px solid rgba(255,255,255,0.9);
      border-right: 3px solid rgba(255,255,255,0.9);
    }

    .win {
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%) rotate(-10deg);
      width: 300px;
      height: 300px;
      margin-top: -60px;
      margin-left: -20px;
      padding-top: 140px;
      font-family: 'Permanent Marker', cursive;
      text-align: center;
      color: #fff;
      pointer-events: none;
    }
    .win h2 {
      display: block;
      margin: 0 0 10px;
      font-size: 100px;
      text-shadow: 0px 0px 50px white;
      text-align: center;
    }
    .restart-btn {
      pointer-events: auto;
      cursor: pointer;
      outline: none;
      display: inline-block;
      padding: 10px 14px;
      background-color: darkred;
      border: none;
      border-radius: 10px;
      font-family: 'Permanent Marker', cursive;
      font-size: 18px;
      color: white;
      margin-top: 8px;
    }
    #rules {
    padding: 10%;
    color: rgb(98, 125, 161);
    h2{
      font-size: 30px;
      font-family:'Comic Sans MS', sans-serif;
    }
    p{
      font-size: 18px;
      font-weight: 500;
      font-family:system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;}
    }
    h3{
      font-size: 24px;
      font-family:'Comic Sans MS', sans-serif;
    }
    ul,ol{
      font-size: 18px;
      font-weight: 500;
      font-family:system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    }
  </style>
</head>
<body>
<div id="app">
  <div style="padding-left: 2%;">
    <h1 style="color: #fff;font-size:40px;">XO</h1>
    </div>
    <div>
  </div> 
  
    <transition v-on:enter="enter" v-bind:css="false" appear>
      <div class="butter-cheese-eggs" v-show="true">
        <div v-for="(block, index) in grid" :key="index" @click="select(index)">
          <block :figure.sync="block.figure" />
        </div>
      </div>
    </transition>

    <transition v-on:enter="enterWin" v-bind:css="false">
      <win v-show="winner" :click-handler="restart"></win>
    </transition>
  
    
  </div>

  <!-- templates -->
  <template id="block">
    <div class="block">
      <transition v-on:enter="enter" v-bind:css="false">
        <span v-show="figure > -1">{{ fig }}</span>
      </transition>
    </div>
    
  </template>

  <template id="win">
    <div class="win">
      <h2>Win</h2>
      <button class="restart-btn" @click="clickHandler">Play again</button>
    </div>
  </template>
<section id="rules">
  <h2>Rules</h2>
  <p>XO is a two-player game where players take turns marking spaces in a 3x3 grid. The objective is to be the first to get three of your marks in a row, either horizontally, vertically, or diagonally. If all spaces are filled and no player has three in a row, the game ends in a draw.</p>
  <h3>How to Play</h3>
  <ol>
    <li>Choose your mark: One player is "X" and the other is "O".</li>
    <li>Take turns: Players alternate turns, placing their mark in an empty space on the grid.</li>
    <li>Win the game: The first player to get three of their marks in a row (horizontally, vertically, or diagonally) wins the game.</li>
    <li>Draw: If all spaces are filled and no player has three in a row, the game ends in a draw.</li>
  </ol>
  <h3>Winning Combinations</h3>
  <ul>
    <li>Horizontal: Top row (0, 1, 2), Middle row (3, 4, 5), Bottom row (6, 7, 8)</li>
    <li>Vertical: Left column (0, 3, 6), Middle column (1, 4, 7), Right column (2, 5, 8)</li>
    <li>Diagonal: Top-left to bottom-right (0, 4, 8), Top-right to bottom-left (2, 4, 6)</li>
  </ul>
  <h3>Restarting the Game</h3>
  <p>To restart the game, click the "Play again" button that appears when a player wins or when the game ends in a draw. This will reset the grid and allow you to start a new game.</p>
  <hr>
  <footer style="text-align: center; color: black;">
    <p style="font-family: Comic Sans MS;">Developed by Md Irfan</p>
  </footer>
</section>




  

  <!-- Libraries used by the original pen -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/lodash@4/lodash.min.js"></script>
  <!-- GSAP TweenMax (old API used in the original) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.20.3/TweenMax.min.js"></script>

  <script>
    // initial state
    let state = {
      grid: _.map(_.range(0, 9), (index) => {
        return { index, figure: -1 }
      }),
      myTurn: false
    }

    const appState = _.cloneDeep(state)

    // block component
    const block = Vue.component('block', {
      name: 'block',
      template: '#block',
      props: {
        figure: {
          type: Number,
          default: -1
        }
      },
      computed: {
        fig () {
          // in the original pen 0 => O, 1 => X
          return this.figure === 0 ? 'O' : 'X'
        }
      },
      data () {
        return {
          selected: false
        }
      },
      methods: {
        enter (el, done) {
          TweenMax.from(el, 1, {
            autoAlpha: 0,
            scale: 0,
            ease: Elastic.easeOut.config(1.25, 0.5),
            onComplete: done
          })
        }
      }
    })

    // win overlay
    const win = Vue.component('win', {
      name: 'win',
      template: '#win',
      props: {
        clickHandler: {
          type: Function,
          default: null
        }
      }
    })

    // main app
    const app = new Vue({
      name: 'app',
      el: '#app',
      data() {
        return state
      },
      components: { block },
      computed: {
        winner () {
          // winning combinations (strings for compatibility with original code)
          const wins = ['012', '345', '678', '036', '147', '258', '048', '246']
          const grid = this.grid
          // original logic uses myTurn to determine which player won
          const player = this.myTurn ? 0 : 1
          // collect indices where current player has a mark
          const moves = _.reduce(this.grid, (result, value, index) => {
            if (value.figure === player) {
              result.push(index)
            }
            return result
          }, [])
          // check if any win combos are subset of moves
          return !!_.find(wins, win => {
            const combination = _.map(win.split(''), n => parseInt(n))
            return _.difference(combination, moves).length === 0
          })
        }
      },
      methods: {
        select (index) {
          const {figure} = this.grid[index]
          if (figure > -1) {
            return;
          }
          this.grid[index].figure = this.myTurn ? 1 : 0
          this.myTurn = !this.myTurn
        },

        restart () {
          // deep clone initial state so grid resets
          this.grid = _.cloneDeep(appState.grid)
          this.myTurn = appState.myTurn
        },

        enter (el, done) {
          TweenMax.from(el, 1, {
            autoAlpha: 0,
            scale: 0,
            ease: Elastic.easeOut.config(1.25, 0.5),
            onComplete: done
          })
        },
        enterWin (el) {
          TweenMax.from(el, 1, {
            autoAlpha: 0,
            scale: 0,
            ease: Elastic.easeOut.config(1.25, 0.5)
          })
        }
      }
    })
  </script>
</body>
</html>
cd 